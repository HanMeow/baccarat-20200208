(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"0Sby":function(n,t,e){"use strict";e.r(t);e("TsPW");var o=e("0cTy"),i=e.n(o),s=e("xCjN"),r=(e("L2JU"),e("VInP")),a={name:"Login",components:{loadingMask:s.a,vanImage:i.a},mixins:[r.a]},c=e("KHd+"),l={name:"Login",components:{LoginContent:Object(c.a)(a,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{class:["login",{loading:n.loading}],on:{click:n.onContainer}},[e("loadingMask",{attrs:{loading:n.loading}}),n._v(" "),e("div",{class:["login-box","j_flex-column-center-between"]},[e("div",{staticClass:"blocker"}),n._v(" "),e("van-image",{staticClass:"login-logo",attrs:{src:n.logo},on:{load:n.imageLoaded}},[e("van-loading",{attrs:{slot:"loading",type:"circular",size:"50%"},slot:"loading"})],1),n._v(" "),e("div",{staticClass:"login-field j_flex-column-between"},[n._l(n.inputs,(function(t,o){return[e("div",{key:o,staticClass:"login-field-line j_flex-center-between"},[e("van-image",{staticClass:"login-field-icon",attrs:{src:t.src},on:{load:n.imageLoaded}}),n._v(" "),e("van-field",n._g({ref:o,refInFor:!0,attrs:{"error-message":t.errorMsg,type:t.type,placeholder:t.placeholder},on:{input:function(n){t.errorMsg=""},focus:function(n){t.errorMsg=""},keypress:function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.onEnter(t,o)},click:function(n){n.stopPropagation()}},model:{value:t.value,callback:function(e){n.$set(t,"value",e)},expression:"item.value"}},n.inputEvents))],1)]})),n._v(" "),e("div",{staticClass:"login-field-line j_flex-center-between"},[e("div",{staticClass:"blocker"}),n._v(" "),e("router-link",{attrs:{to:{name:"Register"},replace:""}},[e("span",{staticClass:"login-link j_text--day",domProps:{textContent:n._s("註冊")}})]),n._v(" "),e("span",{staticClass:"login-link j_text--day",domProps:{textContent:n._s("忘記帳號")}})],1),n._v(" "),e("div",{staticClass:"login-field-line j_flex-center-around"},[e("div",{staticClass:"blocker"}),n._v(" "),e("div",{ref:"play",staticClass:"login-button j_flex-column-around",on:{click:n.onPlay}},[e("span",{staticClass:"login-button-text j_text--day",domProps:{textContent:n._s("PLAY")}})])]),n._v(" "),e("div",{staticClass:"blocker",style:{height:"60px"}}),n._v(" "),e("div",{staticClass:"login-field-line j_flex-column-center-around"},[e("van-image",{staticClass:"login-service-icon",attrs:{src:n.service},on:{load:n.imageLoaded}}),n._v(" "),e("span",{staticClass:"j_text--day",domProps:{textContent:n._s("聯絡客服")}})],1)],2),n._v(" "),e("div",{staticClass:"blocker"})],1)],1)}),[],!1,null,null,null).exports}},u=Object(c.a)(l,(function(){var n=this.$createElement;return(this._self._c||n)("LoginContent")}),[],!1,null,null,null);t.default=u.exports},RnL9:function(n,t,e){n.exports=e.p+"default/img/image/sign-people.png"},V5e3:function(n,t,e){n.exports=e.p+"default/img/image/sign-lock.png"},VHdb:function(n,t,e){"use strict";var o=[],i=["focusin","focus"],s=["focusout","blur"];t.a={beforeDestroy:function(){var n=document.body||document.querySelector("body");n.classList.contains("body-height-fix")&&n.classList.remove("body-height-fix"),o.length=0},methods:{onFocusChanged:function(n){var t=n.target||{},e=n.type||"",r=o.find((function(n){return n===t}));i.includes(e)&&!r?o.push(t):s.includes(e)&&r&&o.splice(o.findIndex((function(n){return n===t})),1);var a=document.body||document.querySelector("body");a.classList.contains("body-height-fix")||a.classList.add("body-height-fix"),setTimeout((function(){a.classList.contains("body-height-fix")&&a.classList.remove("body-height-fix"),o.length}),10)}},computed:{inputEvents:function(){return{focusin:this.onFocusChanged,focus:this.onFocusChanged,focusout:this.onFocusChanged,blur:this.onFocusChanged}}}}},VInP:function(n,t,e){"use strict";(function(n,o){var i=e("L2JU"),s=e("VHdb"),r=e("bSnq"),a=e.n(r),c=(e("vDqi"),Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n});t.a={data:function(){return{inputs:{account:{value:"",errorMsg:"",placeholder:"請輸入帳號",type:"text",src:e("RnL9")},password:{value:"",errorMsg:"",placeholder:"請輸入密碼",type:"password",src:e("V5e3")}},imageNum:4,imageLoading:!0}},mixins:[s.a],mounted:function(){var t,e=this;return(t=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n,e)})),function(){var e=t.apply(this,arguments);return new n((function(t,o){return function i(s,r){try{var a=e[s](r),c=a.value}catch(n){return void o(n)}if(!a.done)return n.resolve(c).then((function(n){i("next",n)}),(function(n){i("throw",n)}));t(c)}("next")}))})()},methods:c({},Object(i.b)("Login/login",{login:o.CREATED}),{imageLoaded:function(){--this.imageNum<=0&&(this.imageLoading=!1)},onContainer:function(){for(var n in this.inputs){var t=(this.$refs[n]||[])[0]||{};t.blur&&t.blur()}},onEnter:function(n,t){n.target.blur();var e=this.$refs[{account:"password",password:"play"}[t]];Array.isArray(e)&&(e=e[0]),e.focus()},checkInputs:function(){var n=!0;for(var t in this.inputs)this.inputs[t].value||(this.inputs[t].errorMsg=this.inputs[t].placeholder,n=!1);return n},onPlay:function(){var n=this;this.checkInputs()&&this.login({account:this.inputs.account.value,password:this.inputs.password.value}).then((function(t){n.$router.replace({name:"Home"})})).catch((function(n){a.a.fail(n)}))}}),computed:c({},Object(i.c)("Common",{moduleLoading:"loading"}),{loading:function(){return this.moduleLoading||this.imageLoading},logo:function(){return e("zVwA")},service:function(){return e("uH1+")}})}}).call(this,e("E2g8"),e("JCdI"))},mkV3:function(n,t,e){"use strict";(function(n,o){e("TsPW");var i=e("0cTy"),s=e.n(i),r=e("bSnq"),a=e.n(r),c=e("xCjN"),l=e("L2JU"),u=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n};t.a={name:"LoginContent",components:{loadingMask:c.a,vanImage:s.a},data:function(){return{account:"",password:"",inputs:{nickName:{placeholder:"輸入暱稱",value:"",errorMsg:"",type:"text"},account:{placeholder:"輸入帳號",value:"",errorMsg:"",type:"text"},password:{placeholder:"輸入密碼",value:"",errorMsg:"",type:"password"},confirm:{placeholder:"確認密碼",value:"",errorMsg:"",type:"password"},phone:{placeholder:"輸入電話",value:"",errorMsg:"",type:"digit"}}}},mounted:function(){var t,e=this;return(t=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n,e)})),function(){var e=t.apply(this,arguments);return new n((function(t,o){return function i(s,r){try{var a=e[s](r),c=a.value}catch(n){return void o(n)}if(!a.done)return n.resolve(c).then((function(n){i("next",n)}),(function(n){i("throw",n)}));t(c)}("next")}))})()},methods:u({},Object(l.b)("Login/register",{register:o.CREATED}),{onContainer:function(){for(var n in this.inputs){var t=(this.$refs[n]||[])[0]||{};t.blur&&t.blur()}},onEnter:function(n,t){n.target.blur();var e=this.$refs[{nickName:"account",account:"password",password:"confirm",confirm:"phone",phone:"register"}[t]];Array.isArray(e)&&(e=e[0]),e.focus()},checkInputs:function(){var n=!0;for(var t in this.inputs)this.inputs[t].value||(this.inputs[t].errorMsg=this.inputs[t].placeholder,n=!1);return n},onRegister:function(){var n=this;this.checkInputs()&&this.register({account:this.inputs.account.value,password:this.inputs.password.value,password_confirmation:this.inputs.confirm.value,name:this.inputs.nickName.value,phone:this.inputs.phone.value}).then((function(t){a.a.success("註冊成功"),setTimeout((function(){n.$router.replace({name:"Login"})}),500)})).catch((function(n){a.a.fail(n)}))}}),computed:u({},Object(l.c)("Common",["loading"]),{logo:function(){return e("zVwA")},people:function(){return e("RnL9")},lock:function(){return e("V5e3")},service:function(){return e("uH1+")}})}}).call(this,e("E2g8"),e("JCdI"))},"uH1+":function(n,t,e){n.exports=e.p+"default/img/image/sign-service.png"},z5hO:function(n,t,e){"use strict";e.r(t);var o=e("mkV3").a,i=e("KHd+"),s={name:"Register",components:{RegisterContent:Object(i.a)(o,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"login",on:{click:n.onContainer}},[e("loadingMask",{attrs:{loading:n.loading}}),n._v(" "),e("router-link",{staticClass:"login-back-link",attrs:{to:{name:"Login"},replace:""}},[e("van-icon",{staticClass:"login-back",attrs:{name:"play",size:"30px"}})],1),n._v(" "),e("div",{staticClass:"login-box j_flex-column-center-between"},[e("div",{staticClass:"blocker"}),n._v(" "),e("van-image",{staticClass:"login-logo",attrs:{src:n.logo}}),n._v(" "),e("div",{staticClass:"login-field j_flex-column-between"},[n._l(n.inputs,(function(t,o){return e("div",{key:o,staticClass:"login-field-line j_flex-center-between"},[e("van-field",{ref:o,refInFor:!0,attrs:{placeholder:t.placeholder,"error-message":t.errorMsg,type:t.type},on:{input:function(n){t.errorMsg=""},focus:function(n){t.errorMsg=""},keypress:function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.onEnter(t,o)},click:function(n){n.stopPropagation()}},model:{value:t.value,callback:function(e){n.$set(t,"value",e)},expression:"term.value"}})],1)})),n._v(" "),e("div",{staticClass:"blocker"}),n._v(" "),e("div",{ref:"register",staticClass:"login-field-line j_flex-center-around"},[e("div",{staticClass:"login-button j_flex-column-around",on:{click:n.onRegister}},[e("span",{staticClass:"login-button-text j_text--day",domProps:{textContent:n._s("註冊")}})])]),n._v(" "),e("div",{staticClass:"blocker",style:{height:"60px"}})],2),n._v(" "),e("div",{staticClass:"blocker"})],1)],1)}),[],!1,null,null,null).exports}},r=Object(i.a)(s,(function(){var n=this.$createElement;return(this._self._c||n)("RegisterContent")}),[],!1,null,null,null);t.default=r.exports},zVwA:function(n,t,e){n.exports=e.p+"default/img/image/sign-logo.png"}}]);